pipeline{
    agent { label 'docker'}
    stages{
        stage(SCM-CHeckout){
            steps{
                git branch: 'feature-1', url: 'https://github.com/arvind61h/my-game.git'
            }
        }
        stage('Deploying Artifacts to Testing Server'){
            steps{

                rtDownload (
                    serverId: 'Artifactory1',
                    spec: '''{
                          "files": [
                            {
                              "pattern": "libs-snapshot-local/*.war",
                              "target": "/opt/tomcat9/webapps"
                            }
                          ]
                    }''',

                    // Optional - Associate the downloaded files with the following custom build name and build number,
                    // as build dependencies.
                    // If not set, the files will be associated with the default build name and build number (i.e the
                    // the Jenkins job name and number).
                    buildName: 'BUILD_NUMBER',
                    buildNumber: 'BUILD_ID'
                )

            }
        }
    }
}